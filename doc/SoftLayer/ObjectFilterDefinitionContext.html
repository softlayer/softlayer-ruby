<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>module SoftLayer::ObjectFilterDefinitionContext - softlayer_api gem 3.0.0</title>

<link href="../fonts.css" rel="stylesheet">
<link href="../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script src="../js/jquery.js"></script>
<script src="../js/navigation.js"></script>
<script src="../js/search_index.js"></script>
<script src="../js/search.js"></script>
<script src="../js/searcher.js"></script>
<script src="../js/darkfish.js"></script>


<body id="top" role="document" class="module">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../table_of_contents.html#pages">Pages</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    
    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-begins_with">::begins_with</a>
    
    <li ><a href="#method-c-contains">::contains</a>
    
    <li ><a href="#method-c-contains_exactly">::contains_exactly</a>
    
    <li ><a href="#method-c-does_not_contain">::does_not_contain</a>
    
    <li ><a href="#method-c-ends_with">::ends_with</a>
    
    <li ><a href="#method-c-is">::is</a>
    
    <li ><a href="#method-c-is_greater_or_equal_to">::is_greater_or_equal_to</a>
    
    <li ><a href="#method-c-is_greater_than">::is_greater_than</a>
    
    <li ><a href="#method-c-is_less_or_equal_to">::is_less_or_equal_to</a>
    
    <li ><a href="#method-c-is_less_than">::is_less_than</a>
    
    <li ><a href="#method-c-is_not">::is_not</a>
    
    <li ><a href="#method-c-is_not_null">::is_not_null</a>
    
    <li ><a href="#method-c-is_null">::is_null</a>
    
    <li ><a href="#method-c-matches_ignoring_case">::matches_ignoring_case</a>
    
    <li ><a href="#method-c-matches_query">::matches_query</a>
    
    <li ><a href="#method-c-satisfies_the_raw_condition">::satisfies_the_raw_condition</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="module-SoftLayer::ObjectFilterDefinitionContext">
  <h1 id="module-SoftLayer::ObjectFilterDefinitionContext" class="module">
    module SoftLayer::ObjectFilterDefinitionContext
  </h1>

  <section class="description">
    
<p>The <a
href="ObjectFilterDefinitionContext.html">ObjectFilterDefinitionContext</a>
defines a bunch of methods that allow the property conditions of an object
filter to be defined in a “pretty” way. Each method returns a block (a
lambda, a proc) that, when called and pased the tail property of a property
chain will generate a fragment of an object filter asking that that
property match the given conditions.</p>

<p>This class, as a whole, is largely an implementation detail of object
filter definitions and there is probably not a good reason to call into it
directly.</p>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-begins_with" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">begins_with</span><span
            class="method-args">(value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Matches when the value is found at the beginning of the field. This search
is not case sensitive</p>
          
          

          
          <div class="method-source-code" id="begins_with-source">
            <pre><span class="ruby-comment"># File lib/softlayer/ObjectFilter.rb, line 146</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">begins_with</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">filter_criteria</span>(<span class="ruby-string">&#39;^=&#39;</span>, <span class="ruby-identifier">value</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-contains" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">contains</span><span
            class="method-args">(value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Matches when the value is found within the field the search is not case
sensitive</p>
          
          

          
          <div class="method-source-code" id="contains-source">
            <pre><span class="ruby-comment"># File lib/softlayer/ObjectFilter.rb, line 140</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">contains</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">filter_criteria</span>(<span class="ruby-string">&#39;*=&#39;</span>, <span class="ruby-identifier">value</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-contains_exactly" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">contains_exactly</span><span
            class="method-args">(value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Matches when the value is found within the field the search <em>is</em>
case sensitive</p>
          
          

          
          <div class="method-source-code" id="contains_exactly-source">
            <pre><span class="ruby-comment"># File lib/softlayer/ObjectFilter.rb, line 183</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">contains_exactly</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">filter_criteria</span>(<span class="ruby-string">&#39;~&#39;</span>, <span class="ruby-identifier">value</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-does_not_contain" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">does_not_contain</span><span
            class="method-args">(value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Matches when the value is not found within the field the search <em>is</em>
case sensitive</p>
          
          

          
          <div class="method-source-code" id="does_not_contain-source">
            <pre><span class="ruby-comment"># File lib/softlayer/ObjectFilter.rb, line 189</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">does_not_contain</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">filter_criteria</span>(<span class="ruby-string">&#39;!~&#39;</span>, <span class="ruby-identifier">value</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-ends_with" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ends_with</span><span
            class="method-args">(value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Matches when the value is found at the end of the field. This search is not
case sensitive</p>
          
          

          
          <div class="method-source-code" id="ends_with-source">
            <pre><span class="ruby-comment"># File lib/softlayer/ObjectFilter.rb, line 152</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">ends_with</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">filter_criteria</span>(<span class="ruby-string">&#39;$=&#39;</span>, <span class="ruby-identifier">value</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-is" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">is</span><span
            class="method-args">(value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Matches when the value in the field is exactly equal to the given value.
This is a case-sensitive match</p>
          
          

          
          <div class="method-source-code" id="is-source">
            <pre><span class="ruby-comment"># File lib/softlayer/ObjectFilter.rb, line 128</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">is</span>(<span class="ruby-identifier">value</span>)
  { <span class="ruby-string">&#39;operation&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">value</span> }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-is_greater_or_equal_to" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">is_greater_or_equal_to</span><span
            class="method-args">(value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Matches when the value in the field is greater than or equal to the given
value</p>
          
          

          
          <div class="method-source-code" id="is_greater_or_equal_to-source">
            <pre><span class="ruby-comment"># File lib/softlayer/ObjectFilter.rb, line 172</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">is_greater_or_equal_to</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">filter_criteria</span>(<span class="ruby-string">&#39;&gt;=&#39;</span>, <span class="ruby-identifier">value</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-is_greater_than" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">is_greater_than</span><span
            class="method-args">(value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Matches when the value in the field is greater than the given value</p>
          
          

          
          <div class="method-source-code" id="is_greater_than-source">
            <pre><span class="ruby-comment"># File lib/softlayer/ObjectFilter.rb, line 162</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">is_greater_than</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">filter_criteria</span>(<span class="ruby-string">&#39;&gt;&#39;</span>, <span class="ruby-identifier">value</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-is_less_or_equal_to" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">is_less_or_equal_to</span><span
            class="method-args">(value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Matches when the value in the field is less than or equal to the given
value</p>
          
          

          
          <div class="method-source-code" id="is_less_or_equal_to-source">
            <pre><span class="ruby-comment"># File lib/softlayer/ObjectFilter.rb, line 177</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">is_less_or_equal_to</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">filter_criteria</span>(<span class="ruby-string">&#39;&lt;=&#39;</span>, <span class="ruby-identifier">value</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-is_less_than" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">is_less_than</span><span
            class="method-args">(value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Matches when the value in the field is less than the given value</p>
          
          

          
          <div class="method-source-code" id="is_less_than-source">
            <pre><span class="ruby-comment"># File lib/softlayer/ObjectFilter.rb, line 167</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">is_less_than</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">filter_criteria</span>(<span class="ruby-string">&#39;&lt;&#39;</span>, <span class="ruby-identifier">value</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-is_not" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">is_not</span><span
            class="method-args">(value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Matches is the value in the field does not exactly equal the value passed
in.</p>
          
          

          
          <div class="method-source-code" id="is_not-source">
            <pre><span class="ruby-comment"># File lib/softlayer/ObjectFilter.rb, line 134</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">is_not</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">filter_criteria</span>(<span class="ruby-string">&#39;!=&#39;</span>, <span class="ruby-identifier">value</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-is_not_null" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">is_not_null</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Matches when the property&#39;s value is not null</p>
          
          

          
          <div class="method-source-code" id="is_not_null-source">
            <pre><span class="ruby-comment"># File lib/softlayer/ObjectFilter.rb, line 199</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">is_not_null</span>()
  { <span class="ruby-string">&#39;operation&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;not null&#39;</span> }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-is_null" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">is_null</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Matches when the property&#39;s value is null</p>
          
          

          
          <div class="method-source-code" id="is_null-source">
            <pre><span class="ruby-comment"># File lib/softlayer/ObjectFilter.rb, line 194</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">is_null</span>
  { <span class="ruby-string">&#39;operation&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;is null&#39;</span> }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-matches_ignoring_case" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">matches_ignoring_case</span><span
            class="method-args">(value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Maches the given value in a case-insensitive way</p>
          
          

          
          <div class="method-source-code" id="matches_ignoring_case-source">
            <pre><span class="ruby-comment"># File lib/softlayer/ObjectFilter.rb, line 157</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">matches_ignoring_case</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">filter_criteria</span>(<span class="ruby-string">&#39;_=&#39;</span>, <span class="ruby-identifier">value</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-matches_query" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">matches_query</span><span
            class="method-args">(query_string)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Accepts a query string defined by a simple query language. It translates
strings in that language into criteria blocks</p>

<p><a href="../Object.html">Object</a> Filter comparisons can be done using
operators.  The set of accepted operators is found in the
OBJECT_FILTER_OPERATORS array.  The query string can consist of an operator
followed by a space, followed by operand e.g.</p>

<pre>&quot;*= smaug&quot;</pre>

<p>The query language also accepts some aliases using asterisks in a
regular-expression-like way. Those aliases look like:</p>

<pre>&#39;value&#39;   Exact value match (translates to &#39;_= value&#39;)
&#39;value*&#39;  Begins with value (translates to &#39;^= value&#39;)
&#39;*value&#39;  Ends with value (translates to &#39;$= value&#39;)
&#39;*value*&#39; Contains value (translates to &#39;*= value&#39;)</pre>

<p>This method corresponds to the <code>query_filter</code> method in the
SoftLayer-Python API.</p>
          
          

          
          <div class="method-source-code" id="matches_query-source">
            <pre><span class="ruby-comment"># File lib/softlayer/ObjectFilter.rb, line 230</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">matches_query</span>(<span class="ruby-identifier">query_string</span>)
  <span class="ruby-identifier">query</span> = <span class="ruby-identifier">query_string</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">strip</span>

  <span class="ruby-identifier">operator</span> = <span class="ruby-constant">OBJECT_FILTER_OPERATORS</span>.<span class="ruby-identifier">find</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span> <span class="ruby-identifier">operator_string</span> <span class="ruby-operator">|</span>
    <span class="ruby-identifier">query</span>[<span class="ruby-value">0</span> <span class="ruby-operator">...</span> <span class="ruby-identifier">operator_string</span>.<span class="ruby-identifier">length</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">operator_string</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">operator</span> <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">filter_criteria</span>(<span class="ruby-identifier">operator</span>, <span class="ruby-identifier">query</span>[<span class="ruby-identifier">operator</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>])
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">case</span> <span class="ruby-identifier">query</span>
    <span class="ruby-keyword">when</span> <span class="ruby-regexp">/\A\*(.*)\*\Z/</span>
      <span class="ruby-identifier">contains</span>(<span class="ruby-node">$1</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-regexp">/\A\*(.*)/</span>
      <span class="ruby-identifier">ends_with</span>(<span class="ruby-node">$1</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-regexp">/\A(.*)\*\Z/</span>
      <span class="ruby-identifier">begins_with</span>(<span class="ruby-node">$1</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">matches_ignoring_case</span>(<span class="ruby-identifier">query</span>)
    <span class="ruby-keyword">end</span> <span class="ruby-comment">#case</span>
  <span class="ruby-keyword">end</span> <span class="ruby-comment">#if</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-satisfies_the_raw_condition" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">satisfies_the_raw_condition</span><span
            class="method-args">(condition_hash)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>This is a catch-all criteria matcher that allows for raw object filter
conditions not covered by the more convenient methods above. The name is
intentionally, annoyingly long and you should use this routine with solid
knowledge and great care.</p>
          
          

          
          <div class="method-source-code" id="satisfies_the_raw_condition-source">
            <pre><span class="ruby-comment"># File lib/softlayer/ObjectFilter.rb, line 206</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">satisfies_the_raw_condition</span>(<span class="ruby-identifier">condition_hash</span>)
  <span class="ruby-identifier">condition_hash</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://rdoc.rubyforge.org">RDoc</a> 4.1.2.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

